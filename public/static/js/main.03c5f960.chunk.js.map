{"version":3,"sources":["services/user-service.js","services/auth-service.js","services/product-service.js","pages-client/Home/Home.js","context/auth-context.js","pages-client/Signup/Signup.js","pages-client/Login/Login.js","pages-client/Cart/Cart.js","pages-client/Private/Private.js","pages-seller/AdminHome/AdminHome.js","components/Navbar/Navbar.js","components/AnonRoute/AnonRoute.js","components/PrivateRoute/ClientPrivateRoute.js","components/PrivateRoute/AdminPrivateRoute.js","App.js","index.js"],"names":["userService","this","userApi","axios","create","baseURL","process","withCredentials","role","firstName","lastName","brand","email","password","phone","city","street","postCode","post","then","response","data","catch","err","console","log","get","id","productId","authService","auth","profilePic","productService","deleteOne","api","delete","productApi","name","brandId","price","materials","picture","stock","Home","useState","products","setProducts","useEffect","loadAllProducts","getAllProducts","handleAddClick","a","addToCart","className","map","product","onClick","_id","src","alt","description","React","createContext","Consumer","Provider","AuthProvider","state","isLoggedIn","isAdmin","isLoading","user","signup","Brand","setState","login","logout","me","value","props","children","Component","withAuth","WrappedComponent","handleFormSubmit","event","preventDefault","handleChange","target","onSubmit","type","onChange","to","username","Cart","cart","setCart","setPrice","loadCurrentUser","totalPrice","getUserById","currentCart","precio","forEach","item","quantity","deleteFromCart","AdminHome","length","routeProps","ComponentToShow","component","exact","path","render","App","ClientPrivateRoute","Login","Signup","AdminPrivateRoute","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.03c5f960.chunk.js","sourcesContent":["import axios from \"axios\";\n\n\nclass UserService {\n\n  constructor() {\n\n    this.userApi = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/users`,\n      withCredentials: true,\n    });\n  }\n  // constructor() {\n\n  //   this.userApi = axios.create({\n  //     baseURL: \"http://localhost:5000/api/users\",\n  //     withCredentials: true,\n  //   });\n  // }\n\n  createUser(\n    role,\n    firstName,\n    lastName,  \n    brand,\n    email, \n    password,\n    phone,  \n    city,\n    street,\n    postCode,\n \n  ) {\n    const pr = this.userApi\n      .post(\"/create\", {\n        role,\n        firstName,\n        lastName,  \n        brand,\n        email, \n        password,\n        phone,  \n        city,\n        street,\n        postCode,\n      })\n      .then((response) => response.data)\n      .catch((err) => console.log(\"user-service - createUser error => \", err));\n    return pr;\n  }\n\n  getAllUsers() {\n    const pr = this.userApi\n      .get(\"/\")\n      .then((response) => response.data)\n      .catch((err) => console.log(\"user-service - getAllUsers error => \", err));\n    return pr;\n  }\n\n  getUserById(id) {\n    const pr = this.userApi\n      .get(`/${id}`)\n      .then((response) => response.data)\n      .catch((err) => console.log(\"user-service - getUserById error => \", err));\n    return pr;\n  }\n\n  updateUser(\n    id,\n    role,\n    firstName,\n    lastName,  \n    brand,\n    email, \n    password,\n    phone,  \n    city,\n    street,\n    postCode,\n  ) {\n    const pr = this.userApi\n      .post(`/update/${id}`, {\n        role,\n        firstName,\n        lastName,  \n        brand,\n        email, \n        password,\n        phone,  \n        city,\n        street,\n        postCode,\n      })\n      .then((response) => response.data)\n      .catch((err) => console.log(\"user-service - updateUser error => \", err));\n    return pr;\n  }\n\n  deleteUser(id) {\n    const pr = this.userApi\n      .get(`/delete/${id}`)\n      .then((response) => response.data)\n      .catch((err) => console.log(\"user-service - deleteUser error => \", err));\n    return pr;\n  }\n\n  addToCart(productId) {\n   \n    const pr = this.userApi\n      .post(`/addToCart`, { productId })\n\n      \n\n      .then((response) => response.data)\n\n      .catch((err) => console.log(\"user-service - addToCart error => \", err));\n\n    return pr;\n  }\n\n  deleteFromCart(productId) {\n    const pr = this.userApi\n      .post(`/deleteFromCart`, { productId })\n      .then((response) => response.data)\n      .catch((err) =>\n        console.log(\"user-service - deleteFromCart error => \", err)\n      );\n    return pr;\n  }\n}\n\nconst userService = new UserService();\n\nexport default userService;","import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true\n    });\n  }\n  // class AuthService {\n  //   constructor() {\n  //     this.auth = axios.create({\n  //       baseURL: \"http://localhost:5000\",\n  //       withCredentials: true\n  //     });\n  //   }\n  \n\n  signup(    \n    firstName,\n    lastName,\n    email,\n    password,\n    phone,\n    street,\n    city,\n    postCode,\n    profilePic,\n    brand,\n     ) {\n    const pr = this.auth\n      .post(\"/auth/signup\", { \n        firstName,\n        lastName,\n        email,\n        password,\n        phone,\n        street,\n        city,\n        postCode,\n        profilePic,\n        brand,\n      })\n      .then((response) => response.data);\n      // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\n\n    return pr;\n  }\n\n  login( email, password ) {\n    const pr = this.auth\n      .post(\"/auth/login\", { email, password })\n      .then((response) => response.data);\n      \n    return pr;\n  }\n\n  logout() {\n    const pr = this.auth\n      .get(\"/auth/logout\")\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  me() {\n    const pr = this.auth\n      .get(\"/auth/me\")\n      .then((response) => response.data)\n      .catch((err) => console.log(\"auth-service - me error => \", err));\n\n    return pr;\n  }\n}\n\n\nconst authService = new AuthService();\n\nexport default authService;\n\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\n// In the above case, all axios request calls are abstracted into methods.\n","import axios from \"axios\";\n\n\nclass ProductService {\n  constructor() {\n\n    this.productApi = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/products`,\n      withCredentials: true,\n    });\n  }\n  // constructor() {\n\n  //   this.productApi = axios.create({\n  //     baseURL: \"http://localhost:5000/api/products\",\n  //     withCredentials: true,\n  //   });\n  // }\n                                     // repasar esto, brandId, debería ser brand name?\n  createProduct(name, brandId, price, materials, picture, stock ){\n      const pr = this.productApi\n      .post(\"/create\",{\n          name,\n          brandId,\n          price,\n          materials,\n          picture,\n          stock\n      })\n      .then((response) => response.data)\n      .catch((err) => console.log('product-service - createProduct error', err))\n  };\n\n  getAllProducts() {\n    const pr = this.productApi\n    .get(\"/\")\n    .then((response) => response.data)\n    .catch((err) => console.log('product-service ! - getAllProducts error', err))\n\n    return pr;\n  };\n\n\n  getProductById(id) {\n    const pr = this.productApi\n    .get(`/${id}`)\n    .then((response) => response.data)\n    .catch((err) => console.log('product-service - getProductById error', err))\n\n    return pr;\n  };\n\n  updateProduct(id, name, brandId, price, materials, picture, stock ) {\n    const pr = this.productApi\n      .post(`/update/${id}`, {\n        name, \n        brandId, \n        price, \n        materials, \n        picture, \n        stock \n      })\n      .then((response) => response.data)\n      .catch((err) =>\n        console.log(\"product-service - updateProduct error => \", err)\n      );\n    return pr;\n  }\n\n\n  deleteOne = (id) => {\n    const pr = this.api.delete(`/${id}`);\n\n    return pr;\n  };\n}\n\nconst productService = new ProductService();\n\nexport default productService;\n","import React, { useState, useEffect } from \"react\";\nimport userService from \"../../services/user-service\";\nimport productService from \"./../../services/product-service\";\nimport authService from \"./../../services/auth-service\";\nimport \"./Home.css\";\n\nconst Home = () => {\n\n  const [products, setProducts] = useState([]);\n\n  //const [cart, setCart] = useState([]);\n\n  useEffect(() => {\n    loadAllProducts();\n  }, []);\n\n  // useEffect(() => {\n  //   loadCurrentUser();\n  // }, []);\n\n  const loadAllProducts = () => {\n    productService\n      .getAllProducts()\n      .then((response) => {\n        if (response) setProducts(response);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleAddClick = async (productId) => {\n    await userService.addToCart(productId);\n    console.log('estamos en home.js y hemos handleAddCLick(), este es el curent cart ahora')\n    //loadCurrentUser();\n  };\n\n  // const handleDeleteClick = (productId) => {\n  //   userService.deleteFromCart(productId);\n  // };\n\n  // const loadCurrentUser = () => {\n  //   authService.me()\n  //   .then((response) => {\n  //     const id = response._id;\n  //     console.log(\"id\", id);\n  //     userService.getUserById(id).then((user) => {\n  //       setCart(user.currentCart);\n  //     });\n  //   })\n  //   .catch((err)=> console.log('home.js > loadcurrentuser',err))\n  // };\n\n  return (\n    <body>\n      <div className=\"cards\">\n        {products.map((product) => (\n          <div className=\"product-card\">\n            <h2>{product.name}</h2>\n            <button onClick={() => handleAddClick(product._id)}>\n              <img\n                className=\"product-img\"\n                src={product.picture}\n                alt=\"product pic\"\n              />\n            </button>\n            <h3>{product.price} €</h3>\n            <h4>{product.description}</h4>\n          </div>\n        ))}\n      </div>\n\n    </body>\n  );\n};\n\nexport default Home;\n\n\n\n","import React from \"react\";\nimport authService from \"../services/auth-service\";\n\nconst { Consumer, Provider } = React.createContext();\n\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    isAdmin: false,\n    isLoading: true,\n    user: null,\n  };\n\n  componentDidMount() {\n    authService\n      .me()\n      .then((user) => {\n        if (user.role === \"client\") {\n          this.setState({\n            user,\n            isLoggedIn: true,\n            isAdmin: false,\n            isLoading: false,\n          });\n        } else {\n          this.setState({\n            user,\n            isLoggedIn: true,\n            isAdmin: true,\n            isLoading: false,\n          });\n        }\n      })\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null, isLoading: false });\n        console.log(\"auth-context - DidMount error => \", err);\n      });\n  }\n\n  signup = (\n    role,\n    firstName,\n    lastName,\n    email,\n    password,\n    phone,\n    street,\n    city,\n    postCode,\n    profilePic,\n    Brand\n  ) => {\n    authService\n      .signup(\n        role,\n        firstName,\n        lastName,\n        email,\n        password,\n        phone,\n        street,\n        city,\n        postCode,\n        profilePic,\n        Brand\n      )\n      .then((user) => {\n        if (user.role === \"client\") {\n          this.setState({ isLoggedIn: true, user, isAdmin: false });\n        } else {\n          this.setState({ isLoggedIn: true, user, isAdmin: true });\n        }\n      })\n\n      .catch((err) => {\n        console.log(\"auth-context - signup error\", err);\n        this.setState({ isLoggedIn: false, user: null });\n      });\n  };\n\n  login = (email, password) => {\n    authService\n      .login(email, password)\n      .then((user) => {\n        if (user.role === \"client\") {\n          this.setState({ isLoggedIn: true, user, isAdmin: false });\n        } else {\n          this.setState({ isLoggedIn: true, user, isAdmin: true });\n        }\n      })\n\n      .catch((err) => {\n        console.log(\"auth-context - login error => \", err);\n        this.setState({ isLoggedIn: false, user: null });\n      });\n  };\n\n  logout = () => {\n    authService\n      .logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch((err) => console.log(\"auth-context - logout error\",err));\n  };\n\n  render() {\n    const { isLoggedIn, isAdmin, isLoading, user } = this.state;\n    const { signup, login, logout } = this;\n\n    if (isLoading) return <p>Loading</p>;\n\n    return (\n      <Provider value={{ isLoggedIn, isAdmin, isLoading, user, signup, login, logout }}>\n        {this.props.children}\n      </Provider>\n    );\n  }\n}\n\n// HOC that converts regular component into a Consumer\nconst withAuth = (WrappedComponent) => {\n  return function (props) {\n    return (\n      <Consumer>\n        {(value) => {\n          const { isLoggedIn, isAdmin, isLoading, user, signup, login, logout } = value;\n\n          return (\n            <WrappedComponent\n              isLoggedIn={isLoggedIn}\n              isAdmin={isAdmin}\n              isLoading={isLoading}\n              user={user}\n              signup={signup}\n              login={login}\n              logout={logout}\n              {...props}\n            />\n          );\n        }}\n      </Consumer>\n    );\n  };\n};\n\nexport { AuthProvider, withAuth };\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from './../../context/auth-context';\n\nclass Signup extends Component {\n  state = { \n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n    phone: \"\",\n    street: \"\",\n    city: \"\",\n    postCode: 0,\n    profilePic: \"\",\n    brand: \"\",\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const {    \n    firstName,\n    lastName,\n    email,\n    password,\n    phone,\n    street,\n    city,\n    postCode,\n    profilePic,\n    brand,\n  } = this.state;\n    \n    this.props.signup(   \n      firstName,\n      lastName,\n      email,\n      password,\n      phone,\n      street,\n      city,\n      postCode,\n      profilePic,\n      brand, );\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const {   \n      firstName,\n      lastName,\n      email,\n      password,\n      phone,\n      street,\n      city,\n      postCode,\n      profilePic,\n      brand, \n    } = this.state;\n    return (\n      <div>\n        <h1>Sign Up</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n\n          <label>First Name:</label>\n          <input type=\"text\" name=\"firstName\" value={firstName} onChange={this.handleChange} />\n\n          <label>Last Name:</label>\n          <input type=\"text\" name=\"lastName\" value={lastName} onChange={this.handleChange} />\n\n          <label>Phone:</label>\n          <input\n            type=\"text\"\n            name=\"phone\"\n            value={phone}\n            onChange={this.handleChange}\n          />\n\n          <label>Street:</label>\n          <input\n            type=\"text\"\n            name=\"street\"\n            value={street}\n            onChange={this.handleChange}\n          />\n\n          <label>City:</label>\n          <input\n            type=\"text\"\n            name=\"city\"\n            value={city}\n            onChange={this.handleChange}\n          />\n\n          <label>Post code:</label>\n          <input\n            type=\"number\"\n            name=\"postCode\"\n            value={postCode}\n            onChange={this.handleChange}\n          />\n\n          <label>Profile picture:</label>\n          <input\n            type=\"text\"\n            name=\"profilePic\"\n            value={profilePic}\n            onChange={this.handleChange}\n          />\n            <label>Brand name:</label>\n          <input\n            type=\"text\"\n            name=\"brand\"\n            value={brand}\n            onChange={this.handleChange}\n          />\n\n\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n          />\n            <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n\n          <input type=\"submit\" value=\"Signup\" />\n        </form>\n        \n        <p>Already have account?</p>\n        <Link to={\"/login\"}> Login</Link>\n      </div>\n    );\n  }\n}\n\n\n\nexport default withAuth(Signup);\n\n\n// const EnhancedSignup = withAuth(Signup)\n// export default EnhancedSignup;","import React, { Component } from \"react\";\nimport { withAuth } from '../../context/auth-context';\n\nclass Login extends Component {\n  state = { username: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    // Call function coming from AuthProvider ( via withAuth )\n    this.props.login(username, password);\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, password } = this.state;\n\n    console.log('user', username)\n    return (\n      <div>\n        <h1>Login</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n          \n          <label>Username:</label>\n          <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange}/>\n\n          <label>Password:</label>\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n\n          <input type=\"submit\" value=\"Login\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { useEffect, useState } from \"react\";\nimport userService from \"../../services/user-service\";\nimport authService from \"./../../services/auth-service\";\nimport \"./Cart.css\";\n\nconst Cart = () => {\n  const [cart, setCart] = useState([]);\n\n  const [price, setPrice] = useState();\n\n  \n  useEffect(() => {\n    loadCurrentUser();\n    \n  }, []);  //poner aqui cart?????\n    \n  useEffect(() => {\n \n    totalPrice();\n\n  }, []);    //poner aqui cart?????\n\n\n  const loadCurrentUser = () => {\n    authService.me().then((response) => {\n      const id = response._id;\n    \n      userService.getUserById(id).then((user) => {\n        setCart(user.currentCart);\n      });\n    });\n  };\n\n  const handleDeleteClick = (productId) => {\n    userService.deleteFromCart(productId);\n  };\n  \n\n\n  const totalPrice = () => {\n    let precio = 0;\n    cart.forEach((item) => {\n       \n      precio += item.productId.price*item.quantity\n    });\n    setPrice(precio)\n  };\n  \n  \n  return (\n    <div className=\"cart-wrap\">\n      hi this is your cart \n      {cart.map((item) => (\n        <div key={item.productId._id}>\n          <div className=\"item-card\">\n            <img\n              className=\"item-img\"\n              src={item.productId.picture}\n              alt=\"product\"\n            />\n            <div className=\"item-info\">\n              <h3>\n                {item.productId.name} {item.quantity}\n              </h3>\n              <h3>{item.productId.price} €</h3>\n            </div>\n            <button\n              className=\"delete-btn\"\n              onClick={() => handleDeleteClick(item.productId._id)}\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      ))}\n      <div className=\"total\">\n        <h3>Total: {price}</h3>\n        <button className = 'checkout-btn'>Check out</button>\n      </div>\n    </div>\n  ); \n};\n\nexport default Cart;\n\n// -- hay que hacer el precio total del carro\n// -- que el carro se actualice automaticamente al añadir y al borrar, \n//    en el carro y la navbar","import React, { Component } from \"react\";\nimport { withAuth } from '../../context/auth-context';\n\nclass Private extends Component {\n  render() {\n    return (\n      <div>\n        <h1>Private Route</h1>\n        <h2>Welcome {this.props.user && this.props.user.username}</h2>\n        {/* \n        <h2>Welcome {this.props.user ? this.props.user.username : null }</h2> \n        */}\n\n      </div>\n    );\n  }\n}\n\n\nexport default withAuth(Private);\n","import React, { Component } from 'react'\n\nimport productService from \"./../../services/product-service\";\n\n\n\n const AdminHome = () => {\n    return (\n        <div>\n            this is the admin page, create products, edit products, delete products, edit profile\n        </div>\n    )\n}\n\nexport default AdminHome;","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport \"./Navbar.css\";\n\nimport userService from \"../../services/user-service\";\n\nimport authService from \"./../../services/auth-service\";\n\nconst Navbar = (props) => {\n  const { isAdmin, cart } = props;\n\n  // const [cart, setCart] = useState([]);\n\n  //  useEffect(() => {\n  //   loadCurrentUser();\n  // }, []);\n\n  // const loadCurrentUser = () => {\n  //   authService.me().then((response) => {\n  //     const id = response._id;\n  //     console.log(\"id\", id);\n  //     userService.getUserById(id).then((user) => {\n  //       setCart(user.currentCart);\n  //     });\n  //   })\n  //   .catch((err)=>console.log(err))\n  // };\n\n  // console.log('estamos en navbar, user.currentCart', user.currentCart)\n  // console.log('navbar > user', user.firstName)\n\n  return (\n    <nav className=\"navbar\">\n      <Link className=\"nav-link\" to={\"/\"} id=\"home-btn\">\n        <h4>Home</h4>\n      </Link>\n      {props.isLoggedIn ? (\n        <>\n          {isAdmin ? (\n            <>\n              <Link to={\"/mystore/home\"} id=\"mystore-btn\" className=\"nav-link\">\n                <h4>{props.user.name.firstName}</h4>\n              </Link>\n            </>\n          ) : (\n            <></>\n          )}\n\n          {cart.length > 0 ? (\n            <Link className=\"nav-link\" to={\"/cart\"}>\n              <h4>\n                {\" \"}\n                <img  \n                  className=\"logo\"\n                  src=\"https://img.icons8.com/pastel-glyph/452/fast-cart.png\"\n                  alt=\"cart-logo\"\n                />\n                {cart.length}\n              </h4>\n            </Link>\n          ) : (\n          \n            <img\n                  className=\"logo\"\n                  src=\"https://img.icons8.com/pastel-glyph/452/fast-cart.png\"\n                  alt=\"cart-logo\"\n                /> \n                \n                \n          )}\n\n          <button onClick={props.logout}>Logout</button>\n        </>\n      ) : (\n        <>\n          <Link to=\"/login\">\n            <button className=\"navbar-button\">Login</button>{\" \"}\n          </Link>\n          <br />\n          <Link to=\"/signup\">\n            <button className=\"navbar-button\">Sign Up</button>{\" \"}\n          </Link>\n        </>\n      )}\n    </nav>\n  );\n};\n\nexport default withAuth(Navbar);\n\n//hay que hacer un state del current cart que se actualize todo el rato no solo con el cart cuando se loguea\n\n/////\n\n// import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\n// import { withAuth } from './../../context/auth-context';\n\n// class Navbar extends Component {\n//   render() {\n//      const { user, logout, isLoggedin, isAdmin } = this.props;\n\n//     return (\n\n//       <nav className=\"navbar\">\n//         <Link to={'/'} id='home-btn'>\n//           <h4>Home</h4>\n//         </Link>\n//         {this.props.isLoggedIn ? (\n//           <>\n//           {isAdmin ? (\n//               <>\n//                <p>SELLER SITE___  <Link\n//                   to={\"/mystore/home\"}\n//                   id=\"mystore-btn\"\n//                   className=\"nav-link\"\n//                 >\n//                   control panel\n//                 </Link></p>\n//               </>\n//             ) : (\n//               <> <p>CLIENT SITE____</p> </>\n//             )}\n//             <p>username:___ {this.props.user.name.firstName}</p>\n//             <Link to={\"/cart\"}>Your cart</Link>\n\n//             <button onClick={this.props.logout}>Logout</button>\n//           </>\n//         ) : (\n//           <>\n//             <Link to=\"/login\">\n//               <button className=\"navbar-button\">Login</button>{' '}\n//             </Link>\n//             <br />\n//             <Link to=\"/signup\">\n//               <button className=\"navbar-button\">Sign Up</button>{' '}\n//             </Link>\n//           </>\n//         )}\n//       </nav>\n//     );\n//   }\n// }\n\n// export default withAuth(Navbar);\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../../context/auth-context';\n\n// Route that only allows access to a user who is not logged in\n\nfunction AnonRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the AnonRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (isLoggedIn) return <Redirect to=\"/\" />\n          else if (! isLoggedIn) return <ComponentToShow {...props} />\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(AnonRoute);\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../../context/auth-context';\n\n// Route that forbids access to a user who is not logged in\n\nfunction PrivateRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the PrivateRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (! isLoggedIn) return <Redirect to=\"/login\" />;\n          else if (isLoggedIn) return <ComponentToShow {...props} />;\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(PrivateRoute);\n\n\n/* \n// Concise way\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   /> \n)} \n*/\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../../context/auth-context';\n\n// Route that forbids access to a user who is not logged in\n\nfunction PrivateRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the PrivateRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (! isLoggedIn) return <Redirect to=\"/mystore/login\" />;\n          else if (isLoggedIn) return <ComponentToShow {...props} />;\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(PrivateRoute);\n\n\n/* \n// Concise way\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   /> \n)} \n*/\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport userService from \"./services/user-service\";\n\nimport authService from \"./services/auth-service\";\n\n// Pages - Client\nimport Home from \"./pages-client/Home/Home\";\nimport Signup from \"./pages-client/Signup/Signup\";\nimport Login from \"./pages-client/Login/Login\";\nimport Private from \"./pages-client/Private/Private\";\nimport Cart from \"./pages-client/Cart/Cart\";\n\n// Pages - Seller\n\nimport AdminHome from \"./pages-seller/AdminHome/AdminHome\";\n\n// Components\nimport Navbar from \"./components/Navbar/Navbar\";\nimport AnonRoute from \"./components/AnonRoute/AnonRoute\";\n\nimport ClientPrivateRoute from \"./components/PrivateRoute/ClientPrivateRoute\";\nimport AdminPrivateRoute from \"./components/PrivateRoute/AdminPrivateRoute\";\n\nconst App = () => {\n  const [cart, setCart] = useState([]);\n\n\n  useEffect(() => {\n    loadCurrentUser();\n  }, []);\n\n  const loadCurrentUser = () => {\n    authService\n      .me()\n      .then((response) => {\n        const id = response._id;\n       \n        userService.getUserById(id).then((user) => {\n          setCart(user.currentCart);\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div className=\"container\">\n      <Navbar cart={cart} />\n\n      <Switch>\n        {/* client routes */}\n\n        <ClientPrivateRoute exact path=\"/cart\" component={Cart} />\n        <AnonRoute exact path=\"/login\" component={Login} />\n        <AnonRoute exact path=\"/signup\" component={Signup} />\n        <Route exact path=\"/\" component={Home} cart={cart} />\n        {/* <ClientPrivateRoute exact path=\"/checkout\" component={Checkout} />\n          <ClientPrivateRoute exact path=\"/profile/:userId\" component={Profile} />\n\n          <Route exact path=\"/:nameUrl\" component={Brand} /> */}\n        {/* <PrivateRoute exact path=\"/private\" component={Private} /> */}\n\n        {/* SELLER routes */}\n        <AdminPrivateRoute\n          exact\n          path=\"/mystore/home\"\n          component={AdminHome}\n        />{\" \"}\n      </Switch>\n    </div>\n  );\n};\n\nexport default App;\n\n///\n\n// import React, { Component } from 'react';\n// import './App.css';\n// import { Switch, Route } from 'react-router-dom';\n\n// // Pages - Client\n// import Home from './pages-client/Home/Home';\n// import Signup from './pages-client/Signup/Signup';\n// import Login from './pages-client/Login/Login';\n// import Private from './pages-client/Private/Private';\n// import Cart from './pages-client/Cart/Cart'\n\n// // Pages - Seller\n\n// import AdminHome from './pages-seller/AdminHome/AdminHome'\n\n// // Components\n// import Navbar from './components/Navbar/Navbar';\n// import AnonRoute from './components/AnonRoute/AnonRoute';\n\n// import ClientPrivateRoute from \"./components/PrivateRoute/ClientPrivateRoute\";\n// import AdminPrivateRoute from \"./components/PrivateRoute/AdminPrivateRoute\";\n\n// class App extends Component {\n//   render() {\n//     return (\n//       <div className=\"container\">\n//         <Navbar />\n\n//         <Switch>\n//         {/* client routes */}\n//            <ClientPrivateRoute\n//            exact\n//            path=\"/cart\"\n//            component={Cart}\n//             />\n\n//           <AnonRoute exact path=\"/login\" component={Login} />\n//           <AnonRoute exact path=\"/signup\" component={Signup} />\n//           <Route exact path=\"/\" component={Home} />\n//          {/* <ClientPrivateRoute exact path=\"/checkout\" component={Checkout} />\n//           <ClientPrivateRoute exact path=\"/profile/:userId\" component={Profile} />\n\n//           <Route exact path=\"/:nameUrl\" component={Brand} /> */}\n\n//           {/* <PrivateRoute exact path=\"/private\" component={Private} /> */}\n\n//           {/* SELLER routes */}\n\n//            <AdminPrivateRoute\n//             exact\n//             path=\"/mystore/home\"\n//             component={AdminHome}\n//           />{\" \"}\n\n//         </Switch>\n//       </div>\n//     );\n//   }\n// }\n\n// export default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nimport { AuthProvider } from './context/auth-context';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}